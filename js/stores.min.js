let map,bluePin,shopName,data,latitude,longitude=null,wholesale={},shops=[{name:"Allgreens",lat:39.728782,lon:-104.999745},{name:"Trill Alternatives",lat:40.019464,lon:-105.275255},{name:"Canna Botica",lat:39.720963,lon:-105.013522},{name:"Elevations",lat:38.951448,lon:-104.800673},{name:"Dankery",lat:38.885426,lon:-104.830743},{name:"Top Shelf",lat:39.714415,lon:-104.987909},{name:"Cannibicare",lat:38.850572,lon:-104.686118}];function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:39.728782,lng:-104.999745},zoom:8}),bluePin=new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/blue-dot.png")}const populateStoreList=()=>{shops.sort((e,t)=>{let o=e.name.toUpperCase(),a=t.name.toUpperCase();return o<a?-1:o>a?1:0});for(let e=0;e<shops.length;e++)$(".store-list").append("<li><button>"+shops[e].name+"</button></li>");$("button").click(function(){shopName=$(this).text(),console.log(shopName),findShop(shops,shopName),getAddress()})},findShop=(e,t)=>{for(let o=0;o<shops.length;o++)e[o].name===t&&(latitude=e[o].lat,longitude=e[o].lon)},getAddress=()=>{let e=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latitude},${longitude}&key=AIzaSyCvOIYQw1uwP8uhE9SAhIObDgOIP2pTyXI`;fetch(e).then(e=>e.json()).then(e=>{let t=e.results[0].formatted_address;t=t.replace(",","<br />"),data=`<b>${shopName}</b><br />${t}`,updateMap()}).catch(e=>{console.log(e)})},updateMap=()=>{const e=new google.maps.LatLng(latitude,longitude);console.log(e),map=new google.maps.Map(document.getElementById("map"),{center:{lat:latitude,lng:longitude},zoom:15});const t=new google.maps.Marker({position:e,icon:bluePin,map:map}),o=new google.maps.InfoWindow;((e,t)=>{google.maps.event.addListener(e,"click",a=>{o.setContent(t),o.open(map,e)})})(t,data),google.maps.event.trigger(t,"click",{})};populateStoreList();