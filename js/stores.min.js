let map,bluePin,shopName,data,latitude,longitude=null;var shops=[{name:"Allgreens",lat:39.728782,lon:-104.999745},{name:"Trill Alternatives",lat:40.019464,lon:-105.275255},{name:"Canna Botica",lat:39.720963,lon:-105.013522},{name:"Elevations",lat:38.951448,lon:-104.800673},{name:"Dankery",lat:38.885426,lon:-104.830743},{name:"Top Shelf",lat:38.850572,lon:-104.686118},{name:"Cannibicare",lat:38.850572,lon:-104.686118}];function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:39.728782,lng:-104.999745},zoom:8}),bluePin=new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/micons/blue-dot.png")}const populateStoreList=()=>{shops.sort((e,o)=>{let t=e.name.toUpperCase(),n=o.name.toUpperCase();return t<n?-1:t>n?1:0});for(let e=0;e<shops.length;e++)$(".store-list").append("<li><button>"+shops[e].name+"</button></li>");$("button").click(function(){shopName=$(this).text(),console.log(shopName),findShop(shops,shopName),console.log(latitude,longitude),updateMap()})},findShop=(e,o)=>{for(let t=0;t<shops.length;t++)e[t].name===o&&(latitude=e[t].lat,longitude=e[t].lon)},updateMap=()=>{const e=new google.maps.LatLng(latitude,longitude);console.log(e),map=new google.maps.Map(document.getElementById("map"),{center:{lat:latitude,lng:longitude},zoom:15});const o=new google.maps.Marker({position:e,icon:bluePin,map:map}),t=new google.maps.InfoWindow;((e,o)=>{google.maps.event.addListener(e,"click",n=>{t.setContent(o),t.open(map,e)})})(o,data),google.maps.event.trigger(o,"click",{})};populateStoreList();